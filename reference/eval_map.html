<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function is used to create the initial metadata objects that are used by the other setup utilities in stpR.
Processes stp_ob artifacts for multiple scenarios:"><title>Primary setup utility for stpR. — eval_map • stpR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Primary setup utility for stpR. — eval_map"><meta property="og:description" content="This function is used to create the initial metadata objects that are used by the other setup utilities in stpR.
Processes stp_ob artifacts for multiple scenarios:"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">stpR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Primary setup utility for stpR.</h1>
      
      <div class="d-none name"><code>eval_map.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is used to create the initial metadata objects that are used by the other setup utilities in stpR.
Processes stp_ob artifacts for multiple scenarios:</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">eval_map</span><span class="op">(</span></span>
<span>  data_df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  from <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  to <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  std_proc_na <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  highlight <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  issue <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  notes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stp_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save_artifact <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  report <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  perform_compare <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  project_dictionary <span class="op">=</span> <span class="fu"><a href="get_project_dictionary.html">get_project_dictionary</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  project_directory <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  summary <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data_df</dt>
<dd><p>The data frame to be evaluated.</p></dd>


<dt>from</dt>
<dd><p>string value of the column(s) in the data frame that represent the columns being processed in the current data set</p></dd>


<dt>to</dt>
<dd><p>string value of the column(s) in the data frame that represent the columns being processed in the current data set.</p></dd>


<dt>std_proc_na</dt>
<dd><p>A function that will be applied to the <code>from</code> column(s) to determine which values should be considered "standard processing" NA values.  This field is used in cases when processing values such as numbers, where it's not necessary to know all the "typically" processed values, but it is helpful to know the values that aren't readily processed by this standard processing as well as how they are handled in the current data set.</p></dd>


<dt>highlight</dt>
<dd><p>A boolean tag to denote whether this processing is of interest for highlighting in the reporting of the current state of the data.  Generally, this would be a type of mapping or field processing that would be of interest to routinely review for each data set processing.</p></dd>


<dt>issue</dt>
<dd><p>A boolean tag to denote whether this processing is of interest for noting for inspection as an issue in the reporting of the current state of the data.</p></dd>


<dt>notes</dt>
<dd><p>A string value to be included in the reporting of the current state of the data.</p></dd>


<dt>stp_id</dt>
<dd><p>A string value to be used as the identifier for this processing in the reporting of the current state of the data. By default, this is the <code>to</code> column.</p></dd>


<dt>save_artifact</dt>
<dd><p>A boolean tag to denote whether this processing should be saved as an artifact.  Only false if you just wanted to use this function to do the count() type check with benefit of console output control.</p></dd>


<dt>report</dt>
<dd><p>A boolean tag to denote whether this processing should be included in the reporting of the current state of the data.  May be false in scenarios where you didn't want to routinely look at the output for processing, but did want to be alerted when there were updates of values.</p></dd>


<dt>perform_compare</dt>
<dd><p>A boolean tag to denote whether this processing should be compared against the previous data artifact. to be used in the comparison of the current data against previous data artifacts.  This should be true when you want to "enforce" a given relationship</p></dd>


<dt>project_dictionary</dt>
<dd><p>The project_dictionary object, which by default is output by the <code><a href="get_project_dictionary.html">get_project_dictionary()</a></code> function.</p></dd>


<dt>project_directory</dt>
<dd><p>The project_directory object, which by default is output by the <code>here::here()</code> function.</p></dd>


<dt>summary</dt>
<dd><p>A boolean tag to denote whether this processing is a summary of the data rather than a mapping of values.  Primarily only true when this function is called from <code><a href="eval_summary.html">eval_summary()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a data frame with the current mapping and any updates to the mapping, if relevant.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    
<ul><li><p>Initial processing of raw data for both categorical and "continuous" fields (depending on whether std_proc_na is NULL)</p></li>
<li><p>General summary of value combinations for several columns: As a utility, <code><a href="eval_summary.html">eval_summary()</a></code> also utilizes the functionality of this utility, as well: When <code>summary = TRUE</code>, the <code>data_df</code> is assumed to be a summary table rather than a processing of <code>from</code> and <code>to</code> values as is commonly the case for the use of eval_map().</p></li>
<li><p>Comparison of current data against previous data artifacts</p></li>
<li><p>Additional creation of tags of items to note as "issues" or "highlights" for reporting of the current state of the data</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span>  <span class="co"># mapping with issue</span></span></span>
<span class="r-in"><span>  <span class="fu">eval_map</span><span class="op">(</span></span></span>
<span class="r-in"><span>    data_df <span class="op">=</span> <span class="va">qa_tbl</span>,</span></span>
<span class="r-in"><span>    from <span class="op">=</span> <span class="st">"TRT_RAW"</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="st">"trt"</span>,</span></span>
<span class="r-in"><span>    notes <span class="op">=</span> <span class="st">"Note multiple raw processed values associated with each treatment type"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in loadNamespace(x):</span> there is no package called ‘here’</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">qa_tbl</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">qa_tbl</span><span class="op">$</span><span class="va">AGE_RAW</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>NAs introduced by coercion</span>
<span class="r-in"><span>  <span class="va">qa_tbl</span><span class="op">$</span><span class="va">age</span><span class="op">[</span><span class="va">qa_tbl</span><span class="op">$</span><span class="va">AGE_RAW</span> <span class="op">==</span> <span class="st">"twenty"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">20</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># 'continuous' field with issue</span></span></span>
<span class="r-in"><span>  <span class="fu">eval_map</span><span class="op">(</span></span></span>
<span class="r-in"><span>    data_df <span class="op">=</span> <span class="va">qa_tbl</span>,</span></span>
<span class="r-in"><span>    from <span class="op">=</span> <span class="st">"AGE_RAW"</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="st">"age"</span>,</span></span>
<span class="r-in"><span>    std_proc_na <span class="op">=</span> <span class="va">as.numeric</span>,</span></span>
<span class="r-in"><span>    notes <span class="op">=</span> <span class="st">"Note processing of value of 'twenty' from AGE_RAW"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in loadNamespace(x):</span> there is no package called ‘here’</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by First Last.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

